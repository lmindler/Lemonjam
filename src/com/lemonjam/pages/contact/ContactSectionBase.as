package com.lemonjam.pages.contact{	import com.lemonjam.pages.SectionBase;	import com.greensock.*;	import com.lemonjam.ui.slide.BackgroundSlide;	import com.greensock.*;	import flash.events.Event;	import flash.events.DataEvent;	import flash.display.MovieClip;	import com.lemonjam.ui.PatternOverlay;	import com.lemonjam.ui.text.Title;	import com.lemonjam.ui.text.Description;	import com.lemonjam.ui.buttons.PrimaryButton;		public class ContactSectionBase extends SectionBase	{		protected var _slide:BackgroundSlide;		protected var _loaded:Boolean = false;		protected var centerContent:MovieClip;		protected var _facebookBtn:MovieClip;		protected var _twitterBtn:MovieClip;		protected var _tumblrBtn:MovieClip;		protected var _blogBtn:MovieClip;		protected var _emailBtn:PrimaryButton;		private var _title:MovieClip;		private var _divider:MovieClip;		protected var overlay:PatternOverlay;				protected var _holder:MovieClip;				protected var _title1:Title;		protected var _p1:Description;				protected var _title2:Title;		protected var _p2:Description;								public function ContactSectionBase()		{			centerContent = getChildByName("contentMC") as MovieClip;			_holder = centerContent.getChildByName("holderMC") as MovieClip;						_title = centerContent.getChildByName("titleMC") as MovieClip;			_divider = centerContent.getChildByName("dividerMC") as MovieClip;			_facebookBtn = _holder.getChildByName("facebookBtnMC") as MovieClip;			_twitterBtn = _holder.getChildByName("twitterBtnMC") as MovieClip;			_tumblrBtn = _holder.getChildByName("tumblrBtnMC") as MovieClip;			_blogBtn = _holder.getChildByName("blogBtnMC") as MovieClip;						_facebookBtn.buttonURL = "https://www.facebook.com/pages/Lemonjam-Photo/251345838232678";			_twitterBtn.buttonURL = "http://twitter.com/lemonjamphoto";			_tumblrBtn.buttonURL = "http://lemonjamphoto.tumblr.com/";			this.alpha = 1;		}				protected function _dataLoaded(e:DataEvent):void		{			overlay = new PatternOverlay();			this.addChildAt(overlay, 0);						var _xml:XML = data[0];						_holder.x = 330;						//Title 1			_title1 = new Title(_xml["first-title"], 380);			_holder.addChild(_title1);						//Paragraph 1			_p1 = new  Description(_xml["first-paragraph"], 380);			_holder.addChild(_p1);			_p1.y = _title1.y + _title1.height - 6;						//Email Button			_emailBtn = new PrimaryButton();			var _email:String = ("mailTo:" + _xml['email']);			_emailBtn.setButton("email lemonjamphoto", 380, _email, true);			_holder.addChild(_emailBtn);			_emailBtn.y = _p1.y + _p1.height + 14;									//Title 2 			_title2 = new Title(_xml["second-title"], 380);			_holder.addChild(_title2);			_title2.y = _emailBtn.y + 88;						//Paragraph 2			_p2 = new Description(_xml["second-paragraph"], 380);			_holder.addChild(_p2);			_p2.y = _title2.y + _title2.height - 6;									_twitterBtn.y = _facebookBtn.y = _tumblrBtn.y = _blogBtn.y = _p2.y + _p2.height + 14;						_holder.y = (_divider.height/2) - (_holder.height/2);									_slide = new BackgroundSlide(("http://lemonjamphoto.com/cms/workspace/" + data[0].background.filename), true);			this.addChildAt(_slide, 0);			_slide.addEventListener(Event.COMPLETE, _imageLoaded);					}				private function _imageLoaded(e:Event):void		{			_slide.removeEventListener(Event.COMPLETE, _imageLoaded);			if(showing)		TweenLite.to(centerContent, .5, {alpha:1});			_loaded = true;		}	}}