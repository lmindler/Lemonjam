package com.lemonjam.ui.buttons{	import flash.display.MovieClip;	import flash.text.TextField;	import flash.text.TextFieldAutoSize;	import flash.text.TextFormatAlign;	import flash.events.MouseEvent;		import com.lemonjam.ui.buttons.LinkUnderline;	import com.greensock.*;	import com.greensock.plugins.*;	import com.asual.swfaddress.*;	import flash.net.navigateToURL;	import flash.net.URLRequest;		public class PrimaryButton extends MovieClip	{		private var _linkTXT:TextField;		private var _bg:MovieClip;		private var _arrow:MovieClip;				private var _url:String = "";		private var _outside:Boolean = false;						public function PrimaryButton()		{						TweenPlugin.activate([TintPlugin, ColorTransformPlugin]);						_linkTXT = getChildByName("linkText") as TextField;			_bg = getChildByName("bgMC") as MovieClip;			_arrow = getChildByName("arrowMC") as MovieClip;						_linkTXT.autoSize = TextFieldAutoSize.LEFT;			_linkTXT.autoSize = TextFormatAlign.LEFT;			_linkTXT.mouseEnabled = false;			_arrow.mouseEnabled = _arrow.mouseChildren = false;					}				public function setButton(string:String, btnWidth:Number = 0, link:String = "", outside:Boolean = false, back:Boolean = false):void		{			_url = link;			_outside = outside;						_linkTXT.text = string.toUpperCase();						if(btnWidth == 0)		_bg.width = _linkTXT.width + 4;			else					_bg.width = btnWidth;										if(! back)		_arrow.x = _bg.width - 20;						else{				_arrow.rotation = 180;				_arrow.x = 15;				_linkTXT.x = _bg.width - _linkTXT.width - 10;			}						_bg.addEventListener(MouseEvent.MOUSE_OVER, _btnOver);			_bg.addEventListener(MouseEvent.MOUSE_OUT, _btnOut);			_bg.addEventListener(MouseEvent.CLICK, _btnClick);			this.buttonMode = true;		}						private function _btnOver(e:MouseEvent):void		{			TweenLite.to(_bg, .6, {colorTransform:{tint:0xFFFFFF, tintAmount:1}});		}				private function _btnOut(e:MouseEvent):void		{			TweenLite.to(_bg, .7, {colorTransform:{tintAmount:0}});		}				private function _btnClick(e:MouseEvent):void		{			TweenLite.to(_bg, 0, {colorTransform:{tintAmount:0}});			TweenLite.to(_arrow, 0, {colorTransform:{tintAmount:0}});			TweenLite.to(_linkTXT, 0, {colorTransform:{tintAmount:0}});						if(_outside){				var _request:URLRequest = new URLRequest(_url);				navigateToURL(_request);			}			else{				SWFAddress.setValue(_url);			}		}	}}